# Клиент-серверное приложение для обкачки набора ссылок

## Описание
Данный проект представляет собой клиент-серверное приложение для обкачки набора URL с ограничением нагрузки. Серверная часть реализована на основе модели master-worker с использованием многопоточности. Клиентская часть представляет собой утилиту, которая отправляет запросы на сервер в несколько потоков и выводит результаты обработки.

Основные особенности:
- Сервер поддерживает взаимодействие с любым числом клиентов (не единовременно).
- Мастер и воркеры реализованы как разные потоки в одном приложении сервера.
- Количество воркеров задается при запуске сервера.
- Мастер слушает указанный порт и принимает запросы от клиентов по TCP.
- Воркер обрабатывает полученные URL, выполняет HTTP-запрос и возвращает клиенту топ из *N* самых частых слов в формате JSON.
- Сервер выводит статистику обработанных URL после каждого запроса.


### Сервер

Серверная часть приложения включает мастер-воркер архитектуру:

- Мастер слушает порт и принимает запросы от клиентов. Полученные URL передаются воркерам для обработки.
- Воркеры - отдельные потоки, которые обрабатывают URL, полученные от мастера. Они выполняют HTTP-запросы и возвращают клиенту топ-K самых частых слов в формате JSON.

### Клиент

Клиентская часть приложения позволяет отправлять запросы на сервер в несколько потоков:

- Клиент создает M потоков, каждый из которых отправляет запросы на сервер и выводит полученный ответ в стандартный вывод.

## Установка
Клонируйте репозиторий:

```bash
git clone https://github.com/peragmat/url_extracter_sync
```

Перейдите в папку проекта, затем установите необходимые зависимости:

```bash
pip install -r requirements.txt
```

## Использование
### Запуск сервера

Для запуска сервера используйте следующую команду:

```bash
python server.py -w <количество воркеров> -k <количество слов в топе>
```
Пример:

```bash
python server.py -w 10 -k 7
```

### Запуск клиента

Для запуска клиента используйте следующую команду:

```bash

python client.py <количество потоков> <файл с URL>
```

Пример:

```bash
python client.py 10 urls.txt
```

### Параметры запуска
**Сервер**:

- `-w <количество воркеров>`: количество потоков-воркеров для обработки запросов
- `-k <количество слов в топе>`: количество самых частых слов, которые будут возвращены клиенту

**Клиент**:
- `<количество потоков>`: количество потоков для отправки запросов
- `<файл с URL>`: файл, содержащий список URL для обработки
